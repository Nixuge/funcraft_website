!function(e){if("function"==typeof define&&define.amd){if("undefined"!=typeof requirejs){var t=requirejs,n="[history"+(new Date).getTime()+"]",r=t.onError;e.toString=function(){return n},t.onError=function(e){e.message.indexOf(n)===-1&&r.call(t,e)}}define([],e)}return"object"!=typeof exports||"undefined"==typeof module?e():void(module.exports=e())}(function(){function e(){}function t(e,n,r){var i=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/;if(null==e||""===e||n)e=n?e:w.href,$&&!r||(e=e.replace(/^[^#]*/,"")||"#",e=w.protocol.replace(/:.*$|$/,":")+"//"+w.host+q.basepath+e.replace(new RegExp("^#[/]?(?:"+q.type+")?"),""));else{var a=t(),o=x.getElementsByTagName("base")[0];!r&&o&&o.getAttribute("href")&&(o.href=o.href,a=t(o.href,null,!0));var c=a._pathname,f=a._protocol;e=""+e,e=/^(?:\w+\:)?\/\//.test(e)?0===e.indexOf("/")?f+e:e:f+"//"+a._host+(0===e.indexOf("/")?e:0===e.indexOf("?")?c+e:0===e.indexOf("#")?c+a._search+e:c.replace(/[^\/]+$/g,"")+e)}J.href=e;var l=i.exec(J.href),s=l[2]+(l[3]?":"+l[3]:""),u=l[4]||"/",p=l[5]||"",h="#"===l[6]?"":l[6]||"",d=u+p+h,v=u.replace(new RegExp("^"+q.basepath,"i"),q.type)+p;return{_href:l[1]+"//"+s+d,_protocol:l[1],_host:s,_hostname:l[2],_port:l[3]||"",_pathname:u,_search:p,_hash:h,_relative:d,_nohash:v,_special:v+h}}function n(){var e=m.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&!!L}function r(e){return e&&m&&m.EventTarget&&"function"==typeof m.EventTarget.prototype.addEventListener&&"function"==typeof e.bind?e.bind(m):e}function i(){var e;try{e=m.sessionStorage,e.setItem(C+"t","1"),e.removeItem(C+"t")}catch(t){e={getItem:function(e){var t=x.cookie.split(e+"=");return t.length>1&&t.pop().split(";").shift()||"null"},setItem:function(e,t){var n={};(n[w.href]=A.state)&&(x.cookie=e+"="+S.stringify(n))}}}try{H=S.parse(e.getItem(C))||{}}catch(t){H={}}G(N+"unload",function(){e.setItem(C,S.stringify(H))},!1)}function a(t,n,r,i){var a=0;r||(r={set:e},a=1);var o=!r.set,c=!r.get,f={configurable:!0,set:function(){o=1},get:function(){c=1}};try{I(t,n,f),t[n]=t[n],I(t,n,r)}catch(l){}if(!(o&&c||(t.__defineGetter__&&(t.__defineGetter__(n,f.get),t.__defineSetter__(n,f.set),t[n]=t[n],r.get&&t.__defineGetter__(n,r.get),r.set&&t.__defineSetter__(n,r.set)),o&&c))){if(a)return!1;if(t===m){try{var s=t[n];t[n]=null}catch(l){}if("execScript"in m)m.execScript("Public "+n,"VBScript"),m.execScript("var "+n+";","JavaScript");else try{I(t,n,{value:e})}catch(l){"onpopstate"===n&&(G("popstate",r=function(){U("popstate",r,!1);var e=t.onpopstate;t.onpopstate=null,setTimeout(function(){t.onpopstate=e},1)},!1),W=0)}t[n]=s}else try{try{var u=O.create(t);I(O.getPrototypeOf(u)===t?u:t,n,r);for(var p in t)"function"==typeof t[p]&&(u[p]=t[p].bind(t));try{i.call(u,u,t)}catch(l){}t=u}catch(l){I(t.constructor.prototype,n,r)}}catch(l){return!1}}return t}function o(e,t,n){return n=n||{},e=e===te?w:e,n.set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}function c(e,t,n){e in K?K[e].push(t):arguments.length>3?G(e,t,n,arguments[3]):G(e,t,n)}function f(e,t,n){var r=K[e];if(r){for(var i=r.length;i--;)if(r[i]===t){r.splice(i,1);break}}else U(e,t,n)}function l(t,n){var r=(""+("string"==typeof t?t:t.type)).replace(/^on/,""),i=K[r];if(i){if(n="string"==typeof t?n:t,null==n.target)for(var o=["target","currentTarget","srcElement","type"];t=o.pop();)n=a(n,t,{get:"type"===t?function(){return r}:function(){return m}});W&&(("popstate"===r?m.onpopstate:m.onhashchange)||e).call(m,n);for(var c=0,f=i.length;c<f;c++)i[c].call(m,n);return!0}return V(t,n)}function s(){var e=x.createEvent?x.createEvent("Event"):x.createEventObject();e.initEvent?e.initEvent("popstate",!1,!1):e.type="popstate",e.state=A.state,l(e)}function u(){Z&&(Z=!1,s())}function p(e,n,r,i){if($)z=w.href;else{0===F&&(F=2);var a=t(n,2===F&&(""+n).indexOf("#")!==-1);a._relative!==t()._relative&&(z=i,r?w.replace("#"+a._special):w.hash=a._special)}!j&&e&&(H[w.href]=e),Z=!1}function h(e){var n=z;if(z=w.href,n){M!==w.href&&s(),e=e||m.event;var r=t(n,!0),i=t();e.oldURL||(e.oldURL=r._href,e.newURL=i._href),r._hash!==i._hash&&l(e)}}function d(e){setTimeout(function(){G("popstate",function(e){M=w.href,j||(e=a(e,"state",{get:function(){return A.state}})),l(e)},!1)},0),!$&&e!==!0&&"location"in A&&(_(P.hash),u())}function v(e){for(;e;){if("A"===e.nodeName)return e;e=e.parentNode}}function g(e){var n=e||m.event,r=v(n.target||n.srcElement),i="defaultPrevented"in n?n.defaultPrevented:n.returnValue===!1;if(r&&"A"===r.nodeName&&!i){var a=t(),o=t(r.getAttribute("href",2)),c=a._href.split("#").shift()===o._href.split("#").shift();c&&o._hash&&(a._hash!==o._hash&&(P.hash=o._hash),_(o._hash),n.preventDefault?n.preventDefault():n.returnValue=!1)}}function _(e){var t=x.getElementById(e=(e||"").replace(/^#/,""));if(t&&t.id===e&&"A"===t.nodeName){var n=t.getBoundingClientRect();m.scrollTo(b.scrollLeft||0,n.top+(b.scrollTop||0)-(b.clientTop||0))}}function y(){var e=x.getElementsByTagName("script"),n=(e[e.length-1]||{}).src||"",r=n.indexOf("?")!==-1?n.split("?").pop():"";r.replace(/(\w+)(?:=([^&]*))?/g,function(e,t,n){q[t]=(n||"").replace(/^(0|false)$/,"")}),G(N+"hashchange",h,!1);var c=[te,P,X,m,ee,A];j&&delete ee.state;for(var f=0;f<c.length;f+=2)for(var l in c[f])if(c[f].hasOwnProperty(l))if("object"!=typeof c[f][l])c[f+1][l]=c[f][l];else{var s=o(c[f],l,c[f][l]);if(!a(c[f+1],l,s,function(e,t){t===A&&(m.history=A=c[f+1]=e)}))return U(N+"hashchange",h,!1),!1;c[f+1]===m&&(K[l]=K[l.substr(2)]=[])}return A.setup(),q.redirect&&A.redirect(),q.init&&(F=1),!j&&S&&i(),$||x[B](N+"click",g,!1),"complete"===x.readyState?d(!0):($||t()._relative===q.basepath||(Z=!0),G(N+"load",d,!1)),!0}var m=("object"==typeof window?window:this)||{};if(!m.history||"emulate"in m.history)return m.history;var E,x=m.document,b=x.documentElement,O=m.Object,S=m.JSON,w=m.location,T=m.history,A=T,L=T.pushState,R=T.replaceState,$=n(),j="state"in T,I=O.defineProperty,P=a({},"t")?{}:x.createElement("a"),N="",B=m.addEventListener?"addEventListener":(N="on")&&"attachEvent",k=m.removeEventListener?"removeEventListener":"detachEvent",D=m.dispatchEvent?"dispatchEvent":"fireEvent",G=r(m[B]),U=r(m[k]),V=r(m[D]),q={basepath:"/",redirect:0,type:"/",init:0},C="__historyAPI__",J=x.createElement("a"),z=w.href,M="",W=1,Z=!1,F=0,H={},K={},Q=x.title,X={onhashchange:null,onpopstate:null},Y=function(e,t){var n=m.history!==T;n&&(m.history=T),e.apply(T,t),n&&(m.history=A)},ee={setup:function(e,t,n){q.basepath=(""+(null==e?q.basepath:e)).replace(/(?:^|\/)[^\/]*$/,"/"),q.type=null==t?q.type:t,q.redirect=null==n?q.redirect:!!n},redirect:function(e,n){if(A.setup(n,e),n=q.basepath,m.top==m.self){var r=t(null,!1,!0)._relative,i=w.pathname+w.search;$?(i=i.replace(/([^\/])$/,"$1/"),r!=n&&new RegExp("^"+n+"$","i").test(i)&&w.replace(r)):i!=n&&(i=i.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+n,"i").test(i)&&w.replace(n+"#"+i.replace(new RegExp("^"+n,"i"),q.type)+w.hash))}},pushState:function(e,t,n){var r=x.title;null!=Q&&(x.title=Q),L&&Y(L,arguments),p(e,n),x.title=r,Q=t},replaceState:function(e,t,n){var r=x.title;null!=Q&&(x.title=Q),delete H[w.href],R&&Y(R,arguments),p(e,n,!0),x.title=r,Q=t},location:{set:function(e){0===F&&(F=1),m.location=e},get:function(){return 0===F&&(F=1),P}},state:{get:function(){return"object"==typeof H[w.href]?S.parse(S.stringify(H[w.href])):"undefined"!=typeof H[w.href]?H[w.href]:null}}},te={assign:function(e){$||0!==(""+e).indexOf("#")?w.assign(e):p(null,e)},reload:function(e){w.reload(e)},replace:function(e){$||0!==(""+e).indexOf("#")?w.replace(e):p(null,e,!0)},toString:function(){return this.href},origin:{get:function(){return void 0!==E?E:w.origin?w.origin:w.protocol+"//"+w.hostname+(w.port?":"+w.port:"")},set:function(e){E=e}},href:$?null:{get:function(){return t()._href}},protocol:null,host:null,hostname:null,port:null,pathname:$?null:{get:function(){return t()._pathname}},search:$?null:{get:function(){return t()._search}},hash:$?null:{set:function(e){p(null,(""+e).replace(/^(#|)/,"#"),!1,z)},get:function(){return t()._hash}}};return y()?(A.emulate=!$,m[B]=c,m[k]=f,m[D]=l,A):void 0});